<!--
  Generated template for the GoalModificationPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Goals</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-card>
    <ion-card-header>
      Current Goal Types:
    </ion-card-header>
    <ion-card-content>
      <ion-item text-wrap *ngFor="let goal of goalTypes">
        {{goal}}
        <button *ngIf="goalHierarchy[goal] === undefined" float-right class="button"
                ion-button icon-only (click)="deleteGoal(goal)">
          <ion-icon name="trash"></ion-icon>
        </button>
        <ion-item *ngFor="let subgoal of goalHierarchy[goal]">
          {{subgoal}}
          <button float-right class="button" ion-button icon-only (click)="deleteGoal(subgoal)">
            <ion-icon name="trash"></ion-icon>
          </button>
        </ion-item>
      </ion-item>
      <button class="button" ion-button full icon-start (click)="addGoal()">
        <ion-icon name="add-circle"></ion-icon>
        Add a Goal
      </button>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      Custom Goals:

      <button float-right class="button" *ngIf="!editingTextGoal" ion-button icon-only (click)="deleteTextGoal()">
        <ion-icon name="trash"></ion-icon>
      </button>

      <button float-right ion-button icon-only  *ngIf="!editingTextGoal" (click)="editTextGoal()">
        <ion-icon name="create"></ion-icon>
      </button>

      <button float-right class="button" *ngIf="editingTextGoal" ion-button icon-only (click)="editTextGoal()">
        <ion-icon name="trash"></ion-icon>
      </button>

      <button float-right class="button" *ngIf="editingTextGoal" ion-button icon-only (click)="saveTextGoal()">
        <ion-icon name="save"></ion-icon>
      </button>


    </ion-card-header>
    <ion-card-content>
      <ion-item *ngIf="textGoals !== undefined && !editingTextGoal">
        {{textGoals}}
      </ion-item>
      <ion-item *ngIf="textGoals === undefined">
        You haven't specified any custom goals!
      </ion-item>
      <ion-item *ngIf="editingTextGoal">
        <ion-textarea [(ngModel)]="newTextGoals" rows="10" [placeholder]="textGoals ? textGoals : 'Add any goals you want to remember here'"
                      [default]="textGoals ? textGoals : ''"></ion-textarea>
      </ion-item>
    </ion-card-content>
  </ion-card>

</ion-content>
