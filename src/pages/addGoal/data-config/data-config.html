<!--
  Generated template for the SymptomConfigPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Add {{dataType}} Data to Track</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <h3>What {{dataType}} data do you want to track?</h3>

  <ion-card >
    <ion-card-header>Custom {{dataType}} Data</ion-card-header>
    <ion-card-content>

      <ion-list *ngFor="let custom of customData[this.dataType]">
        <ion-item-sliding>
          <ion-item>
            <ion-label>{{custom.name}}</ion-label>
          </ion-item>
          <ion-item-options>
            <ion-item-option icon-only color="secondary" (click)="viewDataDetails(custom)">
              <ion-icon slot="icon-only" name="information-circle-outline"></ion-icon>
            </ion-item-option>
            <ion-item-option icon-only color="primary"  *ngIf="selectedFromList.indexOf(custom) < 0" (click)="track(custom)">
              <ion-icon slot="icon-only" name="add-circle"></ion-icon>
            </ion-item-option>
            <ion-item-option icon-only color="danger"
                             *ngIf="selectedFromList.indexOf(custom) >= 0"
                             (click)="remove(custom, 'recommended')">
              <ion-icon slot="icon-only" name="trash"></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      </ion-list>

      <button class="button" ion-button full icon-start (click)="addCustomData()">
        <ion-icon name="add-circle"></ion-icon>
          Add Custom {{dataType}}
      </button>
    </ion-card-content>
  </ion-card>

  <ion-card *ngIf="recKeys.length>0">
    <ion-card-header >Recommended {{dataType}} Data</ion-card-header>
    <ion-card-content>

      <ion-list *ngFor="let rec of recKeys">
        <ion-item-sliding>
          <ion-item>
            <ion-label>{{recommendationData[rec].name}}</ion-label>
          </ion-item>
          <ion-item-options>
            <ion-item-option icon-only color="primary"  (click)="viewDataDetails(recommendationData[rec])">
              <ion-icon slot="icon-only" name="information-circle-outline"></ion-icon>
            </ion-item-option>
            <ion-item-option icon-only color="secondary"  *ngIf="selectedFromList.indexOf(recommendationData[rec]) < 0" (click)="track(recommendationData[rec])">
              <ion-icon slot="icon-only" name="add-circle"></ion-icon>
            </ion-item-option>
            <ion-item-option icon-only color="danger"
                             *ngIf="selectedFromList.indexOf(recommendationData[rec]) >= 0"
                             (click)="remove(recommendationData[rec], 'recommended')">
              <ion-icon slot="icon-only" name="trash"></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      </ion-list>
    </ion-card-content>
  </ion-card>


  <ion-card *ngIf="otherData.length>0">
    <ion-card-header>Common {{dataType}} Data</ion-card-header>
    <ion-card-content>
      <ion-list *ngFor="let data of otherData">
        <ion-item-sliding>
          <ion-item>
            <ion-label>{{data.name}}</ion-label>
          </ion-item>
          <ion-item-options>
            <ion-item-option icon-only color="primary" (click)="viewDataDetails(data)">
              <ion-icon slot="icon-only" name="information-circle-outline"></ion-icon>
            </ion-item-option>
            <ion-item-option icon-only color="secondary" *ngIf="selectedFromList.indexOf(data) < 0" (click)="track(data)">
              <ion-icon slot="icon-only" name="add-circle"></ion-icon>
            </ion-item-option>
            <ion-item-option color="danger" icon-only *ngIf="selectedFromList.indexOf(data) >= 0" (click)="remove(data, 'common')">
              <ion-icon slot="icon-only" name="trash"></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <button float-right ion-button (click)="continueSetup()">
    Continue
  </button>


</ion-content>
