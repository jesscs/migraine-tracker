<!--
  Generated template for the ConfigureNotificationsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Configure Notifications</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <h3>When would you like tracking notifications?</h3>

  <ion-card>
    <ion-card-content>

      <ion-item>
        <ion-label>Set frequency:</ion-label>
        <ion-select [(ngModel)]="notificationData['timescale']">
          <ion-option value="Daily"
                      [selected]="notificationData.timescale && notificationData.timescale === 'Daily'">
            Daily
          </ion-option>
          <ion-option value="Weekly"
                      [selected]="notificationData.timescale && notificationData.timescale === 'Weekly'">
            Weekly
          </ion-option>
          <ion-option value="Monthly"
                      [selected]="notificationData.timescale && notificationData.timescale === 'Monthly'">
            Monthly
          </ion-option>
        </ion-select>
      </ion-item>

      <ion-item *ngIf="notificationData['timescale']==='Weekly'">
        <ion-label>Set day(s) of week:</ion-label>
        <ion-select multiple="true" [(ngModel)]="notificationData['dayOfWeek']">
          <ion-option *ngFor="let day of days" [value]="day"
                      [selected]="notificationData.dayOfWeek && notificationData.dayOfWeek === day">
            {{day}}
          </ion-option>
        </ion-select>
      </ion-item>

      <ion-item *ngIf="notificationData['timescale']==='Monthly'">
        <ion-label>Set day(s) of month:</ion-label>
        <ion-select multiple="true" [(ngModel)]="notificationData['dayOfMonth']">
          <ion-option *ngFor="let date of dates" [value]=date>{{date}}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>Set time of day:</ion-label>
        <ion-datetime displayFormat="h:mm a" pickerFormat="h:mm a" placeholder="Select Time" hourValues="12"
                      [(ngModel)]="notificationData['timeOfDay']"></ion-datetime>
      </ion-item>


      <ion-item>
        <ion-label>Set start date:</ion-label>
        <ion-datetime min="{{minDate}}" displayFormat="MM/DD/YY"
                      placeholder="Select Date" [(ngModel)]="notificationData['startdate']"></ion-datetime>
      </ion-item>


    </ion-card-content>
  </ion-card>

  <button float-left ion-button (click)="cancel()">
  I don't want notifications
</button>

  <button float-right ion-button (click)="finish()"
          [disabled]="(notificationData['timescale']==='Monthly' && notificationData['dayOfMonth'] === undefined) ||
            (notificationData['timescale']==='Weekly' && notificationData['dayOfWeek'] === undefined) ||
            (notificationData['timeOfDay'] === undefined)">
    Save
  </button>

</ion-content>
